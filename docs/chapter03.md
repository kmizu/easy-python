# 第3章：プログラムとの出会い

これまでの章で、コンピュータが0と1で動いていることと、データがどう表現されるかを学びました。いよいよこの章では、実際にプログラムというものに触れてみましょう。そして、なぜ数あるプログラミング言語の中からPythonを選ぶのか、その理由も理解していきます。

## プログラムって何だろう？

### 料理のレシピで考えてみよう

プログラムを理解するために、まずは身近な「料理のレシピ」で考えてみましょう。

**カレーを作るレシピ：**
1. 玉ねぎを薄切りにする
2. 人参を一口大に切る
3. 肉を一口大に切る
4. 鍋に油を入れて加熱する
5. 玉ねぎを炒めて透明になったら人参と肉を加える
6. 水を加えて20分煮込む
7. カレールーを加えて10分煮込む
8. 完成

このレシピは、「カレーを作る」という目的を達成するための**手順書**です。

### プログラムはコンピュータ用のレシピ

プログラムも、レシピと同じように**手順書**です。ただし、人間用ではなく**コンピュータ用**の手順書です。

**例：消費税を計算するプログラム**
1. 商品の価格を受け取る
2. 税率（0.1）を設定する
3. 価格に税率を掛ける
4. 元の価格に税額を足す
5. 結果を表示する

### プログラミング言語の役割

ただし、コンピュータは0と1しか理解できないので、私たちの言葉をそのまま理解することはできません。そこで**プログラミング言語**が必要になります。

プログラミング言語は、**人間の考えをコンピュータに伝える翻訳ツール**です。

```
人間の考え：「商品価格に消費税を加算したい」
　　　↓ (プログラミング言語で記述)
Python：price_with_tax = price * 1.1
　　　↓ (コンピュータが理解できる形に変換)
機械語：01001000 01010100... (0と1の組み合わせ)
```

## なぜPythonを選ぶのか（他の言語との違い）

世界には数百種類のプログラミング言語があります。なぜその中からPythonを選ぶのでしょうか？

### プログラミング言語の違いを比較してみよう

同じ「Hello, World!」を表示するプログラムを、異なる言語で書いてみると：

**C言語：**
```c
#include <stdio.h>
int main() {
    printf("Hello, World!\n");
    return 0;
}
```

**Java：**
```java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
```

**Python：**
```python
print("Hello, World!")
```

どの言語も同じことをしているのに、Pythonが圧倒的にシンプルですね！

### Pythonの特徴

**1. 読みやすさを重視**
```python
# Pythonの場合
if age >= 18:
    print("成人です")
else:
    print("未成年です")
```

```c
// C言語の場合
if (age >= 18) {
    printf("成人です\n");
} else {
    printf("未成年です\n");
}
```

Pythonの方が日本語に近い感覚で読むことができます。

**2. 少ないコードで多くのことができる**

データ分析を例にとると：

**Python：**
```python
import pandas as pd
data = pd.read_csv("sales.csv")
total = data["price"].sum()
print(f"売上合計: {total}円")
```

他の言語では、これと同じことをするのに何十行も必要な場合があります。

**3. 豊富なライブラリ**

Pythonには、様々な分野で使える「部品」（ライブラリ）が豊富に用意されています：

- **ウェブサイト作成**：Django, Flask
- **データ分析**：pandas, numpy
- **AI・機械学習**：TensorFlow, PyTorch
- **画像処理**：PIL, OpenCV
- **ゲーム開発**：pygame

### Pythonが使われている身近な例

実は、あなたが普段使っているサービスの多くでPythonが使われています：

- **YouTube**：動画配信システムの一部
- **Instagram**：写真共有システム
- **Spotify**：音楽推薦システム
- **Netflix**：動画推薦システム
- **Google**：検索エンジンの一部
- **Dropbox**：ファイル同期システム

### 他の言語との使い分け

各言語には得意分野があります：

| 言語 | 得意分野 | 特徴 |
|------|----------|------|
| Python | データ分析、AI、ウェブ開発 | 読みやすい、書きやすい |
| Java | 企業システム、Androidアプリ | 安定性、セキュリティ |
| C言語 | OS、組み込みシステム | 高速、メモリ効率良い |
| JavaScript | ウェブページの動作 | ブラウザで動く |
| Swift | iPhoneアプリ | Apple製品専用 |

Pythonは特に**学習しやすさ**と**応用の幅広さ**のバランスが優れているため、初心者におすすめです。

## 【実行】Pythonをインストールしてみよう

いよいよPythonを実際にコンピュータにインストールしてみましょう。

### Windows の場合

**ステップ1：Python公式サイトにアクセス**
1. ブラウザで「python.org」にアクセス
2. 「Downloads」ボタンをクリック
3. 「Python 3.11.x」（最新版）をダウンロード

**ステップ2：インストール実行**
1. ダウンロードしたファイルをダブルクリック
2. **重要：「Add Python to PATH」にチェックを入れる**
3. 「Install Now」をクリック
4. インストール完了まで待つ

**ステップ3：インストール確認**
1. Windowsキー + R を押す
2. 「cmd」と入力してEnter
3. `python --version` と入力してEnter
4. 「Python 3.11.x」のように表示されればOK

### macOS の場合

**ステップ1：Homebrewをインストール（推奨方法）**
1. 「アプリケーション」→「ユーティリティ」→「ターミナル」を開く
2. 以下をコピーして貼り付け、Enterを押す：
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

**ステップ2：PythonをHomebrewでインストール**
```bash
brew install python
```

**ステップ3：インストール確認**
```bash
python3 --version
```

### 代替方法：オンライン環境を使う

インストールが難しい場合は、オンラインでPythonを実行できるサービスもあります：

1. **Replit（replit.com）**：ブラウザでプログラミング
2. **Google Colab**：Googleアカウントで利用可能
3. **Jupyter Notebook online**：データ分析向け

### 開発環境の選択

Pythonをインストールしたら、プログラムを書くための**エディタ**が必要です。

**初心者におすすめ：**

1. **IDLE**（Pythonに付属）
   - Pythonと一緒にインストールされる
   - シンプルで学習に最適

2. **Visual Studio Code**（無料）
   - プロも使う高機能エディタ
   - Python拡張機能が豊富

3. **PyCharm Community Edition**（無料）
   - Python専用の開発環境
   - 高機能だが初心者には少し重い

まずはIDLEから始めることをおすすめします。

## 【実行】自分の名前で挨拶するプログラム

ついに初めてのPythonプログラムを書いてみましょう！

### ステップ1：IDLEを起動しよう

**Windows：**
1. スタートメニューで「IDLE」と検索
2. 「IDLE (Python 3.xx)」をクリック

**macOS：**
1. Launchpadで「IDLE」と検索
2. IDLEをクリック

IDLEが起動すると、以下のような画面が表示されます：

```
Python 3.11.0 (main, Oct 24 2022, 18:26:48) [MSC v.1933 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license()" for more information.
>>> 
```

この `>>>` が表示されている状態が**対話型シェル**です。ここにPythonのコードを入力できます。

### ステップ2：初めてのプログラムを実行

まずは伝統的な「Hello, World!」から始めましょう：

```python
>>> print("Hello, World!")
```

Enterを押すと：

```
Hello, World!
>>> 
```

おめでとうございます！あなたは今、初めてのPythonプログラムを実行しました！

### ステップ3：自分の名前で挨拶してみよう

次に、あなたの名前を使った挨拶プログラムを作ってみましょう：

```python
>>> name = "田中太郎"  # あなたの名前に変更してください
>>> print("こんにちは、" + name + "さん！")
```

実行結果：
```
こんにちは、田中太郎さん！
>>> 
```

### ステップ4：もう少し複雑にしてみよう

今度は、時間に応じて挨拶を変えるプログラムを作ってみましょう：

```python
>>> import datetime
>>> now = datetime.datetime.now()
>>> hour = now.hour
>>> name = "田中太郎"  # あなたの名前に変更

>>> if hour < 12:
...     greeting = "おはようございます"
... elif hour < 18:
...     greeting = "こんにちは"
... else:
...     greeting = "こんばんは"
... 
>>> print(greeting + "、" + name + "さん！")
```

**注意：**`if`文を入力するとき、IDLEでは `...` という表示に変わります。これは「続きを入力してください」という意味です。各行を入力した後、最後に空行（何も入力せずにEnter）を入力すると実行されます。

### ステップ5：f-string を使ってもっとスマートに

Pythonには、文字列をもっと簡単に組み立てる方法があります：

```python
>>> name = "田中太郎"
>>> age = 25
>>> print(f"私の名前は{name}で、{age}歳です。")
```

実行結果：
```
私の名前は田中太郎で、25歳です。
>>> 
```

`f"..."` の形式を**f-string**と呼び、`{}`の中に変数名を書くだけで値が埋め込まれます。

### ステップ6：プログラムをファイルに保存してみよう

これまでは対話型シェルで一行ずつ実行してきましたが、プログラムをファイルに保存して実行することもできます。

**IDLEでのファイル保存：**
1. IDLEで「File」→「New File」をクリック
2. 新しいウィンドウが開きます
3. 以下のプログラムを入力：

```python
# 私の初めてのPythonプログラム
import datetime

name = "田中太郎"  # ここをあなたの名前に変更
now = datetime.datetime.now()
hour = now.hour

if hour < 12:
    greeting = "おはようございます"
elif hour < 18:
    greeting = "こんにちは"
else:
    greeting = "こんばんは"

print(f"{greeting}、{name}さん！")
print(f"今日もPythonの学習を頑張りましょう！")
```

4. 「File」→「Save As」で「hello.py」という名前で保存
5. 「Run」→「Run Module」(またはF5キー)で実行

### ステップ7：プログラムの動作を理解しよう

作成したプログラムの各部分が何をしているか理解しましょう：

```python
# 私の初めてのPythonプログラム
```
- `#` で始まる行は**コメント**
- プログラムの動作に影響しない説明文

```python
import datetime
```
- **モジュール**をインポート（読み込み）
- `datetime`は日付と時刻を扱うためのライブラリ

```python
name = "田中太郎"
```
- **変数**の定義
- `name`という箱に「田中太郎」という文字列を保存

```python
now = datetime.datetime.now()
hour = now.hour
```
- 現在の日時を取得
- その中から「時」の部分だけを取り出し

```python
if hour < 12:
    greeting = "おはようございます"
elif hour < 18:
    greeting = "こんにちは"
else:
    greeting = "こんばんは"
```
- **条件分岐**（if文）
- 時間によって異なる挨拶を設定

```python
print(f"{greeting}、{name}さん！")
```
- **f-string**を使った文字列の組み立てと表示

## プログラムを実行するときに起こっていること

あなたが今実行したプログラムが、コンピュータの中でどう処理されているかを理解しましょう。

### Pythonインタプリタの役割

Pythonは**インタプリタ型言語**です。これは、プログラムを一行ずつ読み取って実行する方式です。

**実行の流れ：**
1. **ソースコード**：あなたが書いたPythonプログラム
2. **字句解析**：文字をトークン（意味のある単位）に分割
3. **構文解析**：トークンを構文木（プログラムの構造）に変換
4. **バイトコード変換**：Pythonの仮想マシン用のコードに変換
5. **実行**：Python仮想マシン（PVM）がバイトコードを実行

### 他の実行方式との比較

**コンパイル型言語（C言語など）：**
```
ソースコード → コンパイラ → 機械語 → 実行
```
- 事前にすべてを機械語に変換
- 実行は高速だが、開発に時間がかかる

**インタプリタ型言語（Python）：**
```
ソースコード → インタプリタ → 実行
```
- その場で解釈しながら実行
- 開発は快適だが、実行は少し遅い

### エラーメッセージを恐れない

プログラミングを学ぶ上で、エラーメッセージは**敵ではなく味方**です。

**よくあるエラーの例：**

```python
>>> print("Hello World"
```
```
SyntaxError: unexpected EOF while parsing
```

これは「閉じ括弧 `)` が足りません」という意味です。

```python
>>> print(hello)
```
```
NameError: name 'hello' is not defined
```

これは「`hello`という変数は定義されていません」という意味です。

**エラーメッセージの読み方：**
1. **エラーの種類**：SyntaxError, NameError など
2. **エラーの内容**：何が問題なのかの説明
3. **発生箇所**：どの行でエラーが起きたか

エラーは「間違いを教えてくれる親切な先生」だと思って、恐れずに向き合いましょう。

## まとめ：プログラミングの第一歩

この章で学んだことをまとめましょう：

### プログラムの本質
- プログラムはコンピュータ用の手順書
- プログラミング言語は人間とコンピュータの橋渡し
- 複雑な処理も、単純な手順の組み合わせ

### Pythonの特徴
- 読みやすく、書きやすい
- 豊富なライブラリで様々な分野に対応
- 学習しやすく、実用性も高い

### 初めてのプログラム体験
- 対話型シェルで即座に結果を確認
- 変数、条件分岐、文字列操作の基本
- エラーメッセージは学習の助けになる

### プログラム実行の仕組み
- インタプリタがソースコードを解釈して実行
- 人間の言葉からコンピュータの0と1へと変換される
- エラーメッセージは問題解決のヒント

あなたはもうプログラマーの第一歩を踏み出しました！次の章からは、Pythonの基本的な機能を使って、もっと実用的なプログラムを作っていきましょう。まずは電卓のような計算から始めて、徐々に複雑なプログラムに挑戦していきます。